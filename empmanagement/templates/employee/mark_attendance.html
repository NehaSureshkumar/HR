{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
    <h2>Mark Attendance</h2>
    <form method="post" class="mt-4">
        {% csrf_token %}
        <div class="mb-3">
            <label for="status" class="form-label">Status</label>
            <select name="status" id="status" class="form-select" required>
                <option value="">Select Status</option>
                <option value="PRESENT">Present</option>
                <option value="ABSENT">Absent</option>
                <option value="HALF_DAY">Half Day</option>
                <option value="LATE">Late</option>
            </select>
        </div>
        
        <div class="mb-3">
            <label for="time_in" class="form-label">Time In</label>
            <input type="datetime-local" name="time_in" id="time_in" class="form-control" required>
        </div>
        
        <div class="mb-3">
            <label for="time_out" class="form-label">Time Out</label>
            <input type="datetime-local" name="time_out" id="time_out" class="form-control">
        </div>
        
        <div class="mb-3">
            <label for="overtime_hours" class="form-label">Overtime Hours</label>
            <input type="number" name="overtime_hours" id="overtime_hours" class="form-control" min="0" step="0.5" value="0">
        </div>
        
        <div class="mb-3">
            <button type="submit" class="btn btn-primary">Submit</button>
            <a href="{% url 'attendance_list' %}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>

{% block extra_js %}
<script>
    // Set default time in to current time
    document.addEventListener('DOMContentLoaded', function() {
        const now = new Date();
        const timeIn = document.getElementById('time_in');
        timeIn.value = now.toISOString().slice(0, 16);
    });
    
    // Add time validation
    document.getElementById('time_in').addEventListener('change', function() {
        document.getElementById('time_out').min = this.value;
    });
    
    document.getElementById('time_out').addEventListener('change', function() {
        document.getElementById('time_in').max = this.value;
    });
</script>
{% endblock %}
{% endblock %} 